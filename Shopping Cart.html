/*
10. Shopping Cart with Dynamic Pricing
         -Display a product list with "Add to Cart" buttons.
         -Show cart items dynamically with quantity, price, and total bill.
         -Allow updating quantity and removing items.
*/
<!DOCTYPE html>
<html>
<head>
  <title>Shopping Cart</title>
</head>
<body>
  <h2>Shopping Cart</h2>
  <div>
    <p>Product 1 - $10 <button onclick="addToCart('Product 1', 10)">Add to Cart</button></p>
    <p>Product 2 - $20 <button onclick="addToCart('Product 2', 20)">Add to Cart</button></p>
    <p>Product 3 - $15 <button onclick="addToCart('Product 3', 15)">Add to Cart</button></p>
  </div>

  <h3>Cart:</h3>
  <table border="1" id="cartTable">
    <tr><th>Item</th><th>Price</th><th>Quantity</th><th>Total</th><th>Action</th></tr>
  </table>
  <p id="bill"></p>

  <script>
    let cart = {};

    function addToCart(item, price) {
      if (cart[item]) {
        cart[item].qty++;
      } else {
        cart[item] = { price: price, qty: 1 };
      }
      displayCart();
    }

    function removeItem(item) {
      delete cart[item];
      displayCart();
    }

    function updateQty(item, qty) {
      if (qty <= 0) {
        removeItem(item);
      } else {
        cart[item].qty = qty;
      }
      displayCart();
    }

    function displayCart() {
      let table = document.getElementById("cartTable");
      table.innerHTML = "<tr><th>Item</th><th>Price</th><th>Quantity</th><th>Total</th><th>Action</th></tr>";

      let totalBill = 0;
      for (let item in cart) {
        let total = cart[item].price * cart[item].qty;
        totalBill += total;
        table.innerHTML += `
          <tr>
            <td>${item}</td>
            <td>$${cart[item].price}</td>
            <td><input type="number" value="${cart[item].qty}" onchange="updateQty('${item}', this.value)"></td>
            <td>$${total}</td>
            <td><button onclick="removeItem('${item}')">Remove</button></td>
          </tr>`;
      }

      document.getElementById("bill").innerText = "Total Bill: $" + totalBill;
    }
  </script>
</body>
</html>
